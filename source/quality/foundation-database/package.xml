<package id="foundation-database"
         name="xtquality"
         developer="xTuple ERP "
         descrip="Quality Desktop Package"
         version="1.1.1"
         updater="2.2.5">
  <pkgnotes>Quality Configuration Tools

  This package contains screens that allow users to configure
  the quality system in the xTuple desktop client.
  
  </pkgnotes>

 <prerequisite type="Query"
               name="Check Workflow is installed" >
    <query>
       SELECT EXISTS ( SELECT 1 FROM information_schema.tables 
          WHERE  table_schema = 'xt'
          AND    table_name = 'wf'   );
    </query>
  <message>
    xTuple Quality contains features needed by the Workflow package.
    Please ensure the Workflow package is installed.
  </message>
 </prerequisite>

  <script        file="source/xt/tables/qspec.sql"        />
  <script        file="source/xt/tables/qspectype.sql"   />
  <script        file="source/xt/tables/qplantype.sql"   />
  <script        file="source/xt/tables/qphead.sql"      />
  <script        file="source/xt/tables/qpitem.sql"      />
  <script        file="source/xt/tables/qpheadass.sql"   />
  <script        file="source/xt/tables/qthead.sql"   />
  <script        file="source/xt/tables/qtitem.sql"   />
  <script        file="source/xt/tables/qtrlscode.sql"   />
  <script        file="source/xt/tables/qtrsncode.sql"   />

  <script        file="source/xt/tables/qualityplanwf.sql"   />
  <script        file="source/xt/tables/qualitytestwf.sql"   />
  <script        file="source/xt/tables/wftype.sql"   />
  <script        file="source/xt/tables/acttype.sql"   />        

  <script        file="source/xt/trigger_functions/qphead_trigger.sql"   />
  <script        file="source/xt/trigger_functions/qthead_trigger.sql"   />
  <script        file="source/xt/trigger_functions/qtest_did_change.sql"   />
  <script        file="source/xt/trigger_functions/qtitem_trigger.sql"   />
  <script        file="source/xt/trigger_functions/inv_hist_did_change.sql"   />
  <script        file="source/xt/trigger_functions/inv_detail_did_change.sql"   />
  <script        file="source/xt/trigger_functions/triggerwooperquality.sql"   />
  <script        file="source/xt/trigger_functions/wo_quality_trigger.sql"   />  
  <script        file="source/public/tables/invhist.sql"   />
  <script        file="source/public/tables/invdetail.sql"   />
  <script        file="source/public/tables/wooper.sql"   />
  <script        file="source/xt/functions/quality.sql"   />  
  <script        file="source/xt/functions/createqualitytestfromplan.sql"   />
  <script        file="source/xt/functions/createqualityplanrevision.sql"   />
  <script        file="source/xt/functions/quality_comment_type.sql"   />
  <script        file="source/xt/functions/formatqualityitemnumber.sql"   />
  <script        file="sql/qthead_doctype.sql"  />  
  <script        file="sql/patches/fixfreqtype.sql" />
  <script        file="source/priv.sql"                 />

  <loadappui     file="source/xtquality/tables/pkguiform/qplan.ui"         name="qplan"          notes="Quality Plan" />
  <loadappui     file="source/xtquality/tables/pkguiform/qplantypes.ui"    name="qplantypes"     notes="Quality Plan Types" />
  <loadappui     file="source/xtquality/tables/pkguiform/qplantype.ui"     name="qplantype"      notes="Quality Plan Type" />    
  <loadappui     file="source/xtquality/tables/pkguiform/qplanass.ui"      name="qplannass"      notes="Quality Plan Item Assignment" />
  <loadappui     file="source/xtquality/tables/pkguiform/qreasoncode.ui"   name="qreasoncode"    notes="Quality Reason Code" />
  <loadappui     file="source/xtquality/tables/pkguiform/qreasoncodes.ui"  name="qreasoncodes"   notes="List of Quality Reason Codes" />
  <loadappui     file="source/xtquality/tables/pkguiform/qreleasecode.ui"  name="qreleasecode"   notes="Quality Release Code" />
  <loadappui     file="source/xtquality/tables/pkguiform/qreleasecodes.ui" name="qreleasecodes"  notes="List of Quality Release Codes" />
  <loadappui     file="source/xtquality/tables/pkguiform/qspec.ui"         name="qspec"          notes="Quality Specification" />
  <loadappui     file="source/xtquality/tables/pkguiform/qspectype.ui"     name="qspectype"      notes="Quality Specification Type" />
  <loadappui     file="source/xtquality/tables/pkguiform/qspectypes.ui"    name="qspectypes"     notes="List of Quality Specification Type" />
  <loadappui     file="source/xtquality/tables/pkguiform/qtconfig.ui"      name="qtconfig"       notes="Quality Configuration" />
  <loadappui     file="source/xtquality/tables/pkguiform/qtest.ui"         name="qtest"          notes="Quality Test" />
  <loadappui     file="source/xtquality/tables/pkguiform/qtitem.ui"        name="qtitem"         notes="Quality Test Item" />

  <loadappscript file="source/xtquality/tables/pkgscript/xtQuality.js"     name="xtQuality"      notes="xTuple Quality Globals"         order="0"/>
  <loadappscript file="source/xtquality/tables/pkgscript/qplan.js"         name="qplan"          notes="Quality Plan"                   order="0"/>
  <loadappscript file="source/xtquality/tables/pkgscript/qplanass.js"      name="qplanass"       notes="Quality plan assign to Item"    order="0"/>
  <loadappscript file="source/xtquality/tables/pkgscript/qplans.js"        name="qplans"         notes="List of Quality Plans"          order="0"/>
  <loadappscript file="source/xtquality/tables/pkgscript/qplantypes.js"    name="qplantypes"     notes="Quality Plan Types"             order="0"/>
  <loadappscript file="source/xtquality/tables/pkgscript/qplantype.js"     name="qplantype"      notes="Quality Plan Type"              order="0"/>      
  <loadappscript file="source/xtquality/tables/pkgscript/qreasoncode.js"   name="qreasoncode"    notes="Quality Reason Code"            order="0"/>
  <loadappscript file="source/xtquality/tables/pkgscript/qreasoncodes.js"  name="qreasoncodes"   notes="List of Quality Reason Codes"   order="0"/>
  <loadappscript file="source/xtquality/tables/pkgscript/qreleasecode.js"  name="qreleasecode"   notes="Quality Release Code"           order="0"/>
  <loadappscript file="source/xtquality/tables/pkgscript/qreleasecodes.js" name="qreleasecodes"  notes="List of Quality Release Codes"  order="0"/>
  <loadappscript file="source/xtquality/tables/pkgscript/qspec.js"         name="qspec"          notes="Quality Specification"          order="0"/>
  <loadappscript file="source/xtquality/tables/pkgscript/qspecs.js"        name="qspecs"         notes="List of Quality Specifications" order="0"/>
  <loadappscript file="source/xtquality/tables/pkgscript/qspectype.js"     name="qspectype"      notes="Quality Specification Type"     order="0"/>
  <loadappscript file="source/xtquality/tables/pkgscript/qspectypes.js"    name="qspectypes"     notes="List of Quality Specification Types" order="0"/>
  <loadappscript file="source/xtquality/tables/pkgscript/qtconfig.js"      name="qtconfig"       notes="Quality Configuration"          order="0"/>
  <loadappscript file="source/xtquality/tables/pkgscript/qtest.js"         name="qtest"          notes="Quality Test"                   order="0"/>
  <loadappscript file="source/xtquality/tables/pkgscript/qtests.js"        name="qtests"         notes="List of Quality Tests"          order="0"/>
  <loadappscript file="source/xtquality/tables/pkgscript/qtitem.js"        name="qtitem"         notes="Quality Test Item"              order="0"/>
  <loadappscript file="source/xtquality/tables/pkgscript/setup.js"         name="setup"          notes="Add Quality to Setup"           order="0"/>
  <loadappscript file="source/xtquality/tables/pkgscript/initMenu.js"      name="initMenu"       notes="initmenu"              order="0"/>
  <loadappscript file="source/xtquality/tables/pkgscript/qualityTests.js"  name="qualityTests"   notes="Quality Tests" order="0"/>
  
  <loadmetasql   file="source/xtquality/tables/pkgmetasql/qpheadass-detail.mql"     />
  <loadmetasql   file="source/xtquality/tables/pkgmetasql/qplan-detail.mql"         />   
  <loadmetasql   file="source/xtquality/tables/pkgmetasql/qspec-detail.mql"         /> 
  <loadmetasql   file="source/xtquality/tables/pkgmetasql/qtest-detail.mql"         /> 
  <loadmetasql   file="source/xtquality/tables/pkgmetasql/qtitem-detail.mql"        /> 
  <loadmetasql   file="source/xtquality/tables/pkgmetasql/qualityTests-detail.mql"  />
  <loadmetasql   file="source/xtquality/tables/pkgmetasql/qualityTests-summary.mql" />

  <loadreport    file="source/xtquality/tables/pkgreport/QualityCertificate.xml"          />
  <loadreport    file="source/xtquality/tables/pkgreport/QualityNonConformance.xml"       />
  <loadreport    file="source/xtquality/tables/pkgreport/QualityTest.xml"                 />
  <loadreport    file="source/xtquality/tables/pkgreport/QualitySpecs.xml"                 />
  <loadreport    file="source/xtquality/tables/pkgreport/QualityPlans.xml"                 />
  <loadreport    file="source/xtquality/tables/pkgreport/QualityTestSummary.xml"          />
  <loadreport    file="source/xtquality/tables/pkgreport/WorkOrderQualityCertificate.xml" />
  
</package>
