[
  {
    "context": "inventory",
    "nameSpace": "XM",
    "type": "InventoryAvailability",
    "table": "xt.invavail",
    "comment": "Inventory Availability Map",
    "privileges": {
      "all": {
        "create": false,
        "read": "ViewInventoryAvailability",
        "update": false,
        "delete": false
      }
    },
    "properties": [
      {
        "name": "id",
        "attr": {
          "type": "Number",
          "column": "itemsite_id",
          "isPrimaryKey": true
        }
      },
      {
        "name": "uuid",
        "attr": {
          "type": "String",
          "column": "obj_uuid",
          "isNaturalKey": true
        }
      },
      {
        "name": "item",
        "attr": {
          "type": "String",
          "column": "item_number"
        }
      },
      {
        "name": "itemType",
        "attr": {
          "type": "String",
          "column": "item_type"
        }
      },
      {
        "name": "site",
        "attr": {
          "type": "String",
          "column": "warehous_code"
        }
      },
      {
        "name": "description1",
        "attr": {
          "type": "String",
          "column": "item_descrip1"
        }
      },
      {
        "name": "description2",
        "attr": {
          "type": "String",
          "column": "item_descrip1"
        }
      },
      {
        "name": "inventoryUnit",
        "toOne": {
          "type": "Unit",
          "column": "item_inv_uom_id"
        }
      },
      {
        "name": "classCode",
        "toOne": {
          "type": "ClassCode",
          "column": "item_classcode_id"
        }
      },
      {
        "name": "plannerCode",
        "toOne": {
          "type": "PlannerCode",
          "column": "itemsite_plancode_id"
        }
      },
      {
        "name": "leadTime",
        "attr": {
          "type": "Number",
          "column": "itemsite_leadtime"
        }
      },
      {
        "name": "onHand",
        "attr": {
          "type": "Quantity",
          "column": "itemsite_qtyonhand"
        }
      },
      {
        "name": "allocated",
        "attr": {
          "derived": true,
          "type": "Quantity",
          "method": "qtyallocated(itemsite_id, startoftime(), endoftime())"
        }
      },
      {
        "name": "unallocated",
        "attr": {
          "derived": true,
          "type": "Quantity",
          "method": "noneg(itemsite_qtyonhand - qtyallocated(itemsite_id, startoftime(), endoftime()))"
        }
      },
      {
        "name": "ordered",
        "attr": {
          "derived": true,
          "type": "Quantity",
          "method": "qtyordered(itemsite_id, startoftime(), endoftime())"
        }
      },
      {
        "name": "requests",
        "attr": {
          "derived": true,
          "type": "Quantity",
          "method": "qtypr(itemsite_id, startoftime(), endoftime())"
        }
      },
      {
        "name": "available",
        "attr": {
          "derived": true,
          "type": "Quantity",
          "method": "itemsite_qtyonhand - qtyallocated(itemsite_id, startoftime(), endoftime()) + qtyordered(itemsite_id, startoftime(), endoftime())"
        }
      },
      {
        "name": "useParameters",
        "attr": {
          "type": "Boolean",
          "column": "itemsite_useparams"
        }
      },
      {
        "name": "reorderLevel",
        "attr": {
          "type": "Quantity",
          "derived": true,
          "method": "case when itemsite_useparams then itemsite_reorderlevel end"
        }
      },
      {
        "name": "orderTo",
        "attr": {
          "type": "Quantity",
          "derived": true,
          "method": "case when itemsite_useparams then itemsite_ordertoqty end"
        }
      },
      {
        "name": "isActive",
        "attr": {
          "type": "Boolean",
          "column": "itemsite_active",
          "value": true
        }
      },
      {
        "name": "isPurchased",
        "attr": {
          "type": "Boolean",
          "column": "itemsite_posupply"
        }
      },
      {
        "name": "isManufactured",
        "attr": {
          "type": "Boolean",
          "column": "itemsite_wosupply"
        }
      }
    ],
    "isSystem": true
  },
  {
    "context": "inventory",
    "nameSpace": "XM",
    "type": "InventoryDetail",
    "table": "invdetail",
    "comment": "Inventory Detail Map",
    "properties": [
      {
        "name": "id",
        "attr": {
          "type": "Number",
          "column": "invdetail_id",
          "isPrimaryKey": true
        }
      },
      {
        "name": "uuid",
        "attr": {
          "type": "String",
          "column": "obj_uuid",
          "isNaturalKey": true
        }
      },
      {
        "name": "inventoryHistory",
        "attr": {
          "type": "Number",
          "column": "invdetail_invhist_id"
        }
      },
      {
        "name": "location",
        "toOne": {
          "type": "LocationRelation",
          "column": "invdetail_location_id"
        }
      },
      {
        "name": "quantity",
        "attr": {
          "derived": true,
          "type": "Quantity",
          "method": "abs(invdetail_qty)"
        }
      },
      {
        "name": "quantityBefore",
        "attr": {
          "type": "Quantity",
          "column": "invdetail_qty_before"
        }
      },
      {
        "name": "quantityAfter",
        "attr": {
          "type": "Quantity",
          "column": "invdetail_qty_after"
        }
      },
      {
        "name": "trace",
        "toOne": {
          "isNested": true,
          "type": "TraceRelation",
          "column": "invdetail_ls_id"
        }
      },
      {
        "name": "expiration",
        "attr": {
          "type": "Date",
          "column": "invdetail_expiration"
        }
      },
      {
        "name": "purchaseWarranty",
        "attr": {
          "type": "Date",
          "column": "invdetail_warrpurc"
        }
      }
    ],
    "isNestedOnly": true,
    "isSystem": true
  },
  {
    "context": "inventory",
    "nameSpace": "XM",
    "type": "InventoryHistory",
    "table": "invhist",
    "isLockable": true,
    "isRest": true,
    "comment": "Inventory History Map",
    "privileges": {
      "all": {
        "create": false,
        "read": "ViewInventoryHistory",
        "update": "ViewInventoryHistory",
        "delete": false
      },
      "attribute": {
        "id": {
          "create": false,
          "update": false
        },
        "uuid": {
          "create": false,
          "update": false
        },
        "itemSite": {
          "create": false,
          "update": false
        },
        "transactionDate": {
          "create": false,
          "update": false
        },
        "transactionType": {
          "create": false,
          "update": false
        },
        "quantity": {
          "create": false,
          "update": false
        },
        "unit": {
          "create": false,
          "update": false
        },
        "orderType": {
          "create": false,
          "update": false
        },
        "orderNumber": {
          "create": false,
          "update": false
        },
        "documentNumber": {
          "create": false,
          "update": false
        },
        "quantityBefore": {
          "create": false,
          "update": false
        },
        "quantityAfter": {
          "create": false,
          "update": false
        },
        "unitCost": {
          "create": false,
          "update": false,
          "view": "ViewCosts"
        },
        "costMethod": {
          "create": false,
          "update": false
        },
        "value": {
          "create": false,
          "update": false,
          "view": "ViewCosts"
        },
        "valueBefore": {
          "create": false,
          "update": false,
          "view": "ViewCosts"
        },
        "valueAfter": {
          "create": false,
          "update": false,
          "view": "ViewCosts"
        },
        "notes": {
          "create": true,
          "update": true
        },
        "isPosted": {
          "create": false,
          "update": false
        },
        "analyze": {
          "create": true,
          "update": true
        },
        "createdBy": {
          "create": false,
          "update": false
        },
        "created": {
          "create": false,
          "update": false
        },
        "detail": {
          "create": false,
          "update": false
        }
      }
    },
    "properties": [
      {
        "name": "id",
        "attr": {
          "type": "Number",
          "column": "invhist_id",
          "isPrimaryKey": true
        }
      },
      {
        "name": "uuid",
        "attr": {
          "type": "String",
          "column": "obj_uuid",
          "isNaturalKey": true
        }
      },
      {
        "name": "itemSite",
        "toOne": {
          "type": "ItemSiteRelation",
          "column": "invhist_itemsite_id",
          "isNested": true
        }
      },
      {
        "name": "transactionDate",
        "attr": {
          "type": "Date",
          "column": "invhist_transdate"
        }
      },
      {
        "name": "transactionType",
        "attr": {
          "type": "String",
          "column": "invhist_transtype"
        }
      },
      {
        "name": "quantity",
        "attr": {
          "derived": true,
          "type": "Quantity",
          "method": "xt.invhist_quantity(invhist_id)"
        }
      },
      {
        "name": "unit",
        "attr": {
          "type": "String",
          "column": "invhist_invuom"
        }
      },
      {
        "name": "value",
        "attr": {
          "type": "Money",
          "derived": true,
          "method": "invhist_value_after - invhist_value_before"
        }
      },
      {
        "name": "orderType",
        "attr": {
          "type": "String",
          "column": "invhist_ordtype"
        }
      },
      {
        "name": "orderNumber",
        "attr": {
          "type": "String",
          "column": "invhist_ordnumber"
        }
      },
      {
        "name": "documentNumber",
        "attr": {
          "type": "String",
          "column": "invhist_docnumber"
        }
      },
      {
        "name": "quantityBefore",
        "attr": {
          "type": "Quantity",
          "column": "invhist_qoh_before"
        }
      },
      {
        "name": "quantityAfter",
        "attr": {
          "type": "Quantity",
          "column": "invhist_qoh_after"
        }
      },
      {
        "name": "unitCost",
        "attr": {
          "type": "Cost",
          "column": "invhist_unitcost"
        }
      },
      {
        "name": "costMethod",
        "attr": {
          "type": "String",
          "column": "invhist_costmethod"
        }
      },
      {
        "name": "valueBefore",
        "attr": {
          "type": "Money",
          "column": "invhist_value_before"
        }
      },
      {
        "name": "valueAfter",
        "attr": {
          "type": "Money",
          "column": "invhist_value_after"
        }
      },
      {
        "name": "notes",
        "attr": {
          "type": "String",
          "column": "invhist_comments"
        }
      },
      {
        "name": "isPosted",
        "attr": {
          "type": "Boolean",
          "column": "invhist_posted"
        }
      },
      {
        "name": "created",
        "attr": {
          "type": "Date",
          "column": "invhist_created"
        }
      },
      {
        "name": "createdBy",
        "attr": {
          "type": "String",
          "column": "invhist_user"
        }
      },
      {
        "name": "detail",
        "toMany": {
          "isNested": true,
          "type": "InventoryDetail",
          "column": "invhist_id",
          "inverse": "inventoryHistory"
        }
      }
    ],
    "isSystem": true
  }
]
