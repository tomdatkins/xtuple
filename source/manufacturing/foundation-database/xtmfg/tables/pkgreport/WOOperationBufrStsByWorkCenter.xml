<!DOCTYPE openRPTDef>
<report>
 <title>W/O Operation Buffer Status By Work Center</title>
 <name>WOOperationBufrStsByWorkCenter</name>
 <description></description>
 <size>Letter</size>
 <portrait/>
 <topmargin>50</topmargin>
 <bottommargin>50</bottommargin>
 <rightmargin>50</rightmargin>
 <leftmargin>50</leftmargin>
 <querysource>
  <name>head</name>
  <sql>SELECT wrkcnt_code,
       wrkcnt_descrip,
       warehous_code,
       &lt;? if exists(&quot;QtyAvailOnly&quot;) ?>
         text('Only Show W/O Operations with Qty Avail.')
       &lt;? else ?>
         text('')
       &lt;? endif ?>
       AS lbl_withqtyavail
  FROM xtmfg.wrkcnt, whsinfo
 WHERE ((wrkcnt_warehous_id=warehous_id)
       &lt;? if exists(&quot;wrkcnt_id&quot;) ?>
	AND (wrkcnt_id=&lt;? value(&quot;wrkcnt_id&quot;) ?>))
       &lt;? else ?>
	AND (wrkcnt_code=&lt;? value(&quot;wrkcnt_code&quot;) ?>))
       &lt;? endif ?>;
    </sql>
 </querysource>
 <querysource>
  <name>detail</name>
  <sql>SELECT formatWoNumber(wo_id) as wonumber,
       bufrsts_status,
       item_number, item_descrip1, item_descrip2, uom_name AS iteminvuom,
       wooper_seqnumber,
       CASE WHEN (wooper_stdopn_id &lt;> -1) THEN ( SELECT stdopn_number
                                                   FROM xtmfg.stdopn
                                                   WHERE (stdopn_id=wooper_stdopn_id) )
            ELSE ''
       END AS stdoperation,
       wooper_descrip1, wooper_descrip2,
       CASE WHEN (wooper_sucomplete) THEN text('Complete')
            ELSE formatTime(noNeg(wooper_sutime - wooper_suconsumed))
       END AS setupremain,
       CASE WHEN (wooper_rncomplete) THEN text('Complete')
            ELSE formatTime(noNeg(wooper_rntime - wooper_rnconsumed))
       END AS runremain,
       formatQty(noNeg(wo_qtyord - wooper_qtyrcv)) AS qtyremain,
       CASE WHEN (bufrsts_type='T') THEN 'Time'
	    ELSE 'Stock'
       END AS bufrststype
  FROM xtmfg.wooper, wo, itemsite, item, xtmfg.bufrsts, xtmfg.wrkcnt, uom
 WHERE ((wooper_wo_id=wo_id)
   AND (wo_itemsite_id=itemsite_id)
   AND (wrkcnt_id=wooper_wrkcnt_id)
   AND (wo_status &lt;> 'C')
   AND (itemsite_item_id=item_id)
   AND (item_inv_uom_id=uom_id)
   AND (bufrsts_target_type='W')
   AND (bufrsts_target_id=wo_id)
   AND (bufrsts_date=current_date)
       &lt;? if exists(&quot;wrkcnt_id&quot;) ?>
	AND (wrkcnt_id=&lt;? value(&quot;wrkcnt_id&quot;) ?>)
       &lt;? else ?>
	AND (wrkcnt_code=&lt;? value(&quot;wrkcnt_code&quot;) ?>)
       &lt;? endif ?>
   AND (wooper_rncomplete=False)
&lt;? if exists(&quot;QtyAvailOnly&quot;) ?>
   AND ((wooperqtyavail(wooper_id) > 0))
&lt;? endif ?>
 )
ORDER BY bufrsts_status DESC, wooper_scheduled, wo_number, wo_subnumber, wooper_seqnumber;</sql>
 </querysource>
 <rpthead>
  <height>242</height>
  <label>
   <rect>
    <x>335</x>
    <y>215</y>
    <width>200</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Operation Description</string>
  </label>
  <field>
   <rect>
    <x>120</x>
    <y>160</y>
    <width>150</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>bold</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>head</query>
    <column>warehous_code</column>
   </data>
  </field>
  <label>
   <rect>
    <x>610</x>
    <y>200</y>
    <width>80</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <hcenter/>
   <vcenter/>
   <string>Qty. Remain.</string>
  </label>
  <field>
   <rect>
    <x>120</x>
    <y>140</y>
    <width>300</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>bold</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>head</query>
    <column>wrkcnt_descrip</column>
   </data>
  </field>
  <field>
   <rect>
    <x>120</x>
    <y>120</y>
    <width>200</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>bold</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>head</query>
    <column>wrkcnt_code</column>
   </data>
  </field>
  <label>
   <rect>
    <x>690</x>
    <y>200</y>
    <width>55</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <hcenter/>
   <vcenter/>
   <string>UOM</string>
  </label>
  <label>
   <rect>
    <x>330</x>
    <y>200</y>
    <width>80</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <hcenter/>
   <vcenter/>
   <string>Std. Operation</string>
  </label>
  <label>
   <rect>
    <x>112</x>
    <y>215</y>
    <width>100</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Item Description</string>
  </label>
  <label>
   <rect>
    <x>285</x>
    <y>215</y>
    <width>45</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Type</string>
  </label>
  <label>
   <rect>
    <x>35</x>
    <y>160</y>
    <width>80</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <right/>
   <vcenter/>
   <string>Warehouse:</string>
  </label>
  <label>
   <rect>
    <x>133</x>
    <y>10</y>
    <width>597</width>
    <height>40</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>18</size>
    <weight>bold</weight>
   </font>
   <right/>
   <vcenter/>
   <string>W/O Operation Buffer Status by Work Center</string>
  </label>
  <field>
   <rect>
    <x>335</x>
    <y>120</y>
    <width>400</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>bold</weight>
   </font>
   <hcenter/>
   <vcenter/>
   <data>
    <query>head</query>
    <column>lbl_withqtyavail</column>
   </data>
  </field>
  <label>
   <rect>
    <x>10</x>
    <y>200</y>
    <width>60</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>W/O #</string>
  </label>
  <label>
   <rect>
    <x>10</x>
    <y>215</y>
    <width>60</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Status</string>
  </label>
  <label>
   <rect>
    <x>450</x>
    <y>200</y>
    <width>80</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <hcenter/>
   <vcenter/>
   <string>Setup Remain.</string>
  </label>
  <label>
   <rect>
    <x>25</x>
    <y>120</y>
    <width>90</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <right/>
   <vcenter/>
   <string>Work Center:</string>
  </label>
  <label>
   <rect>
    <x>275</x>
    <y>200</y>
    <width>50</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <hcenter/>
   <vcenter/>
   <string>Seq. #</string>
  </label>
  <label>
   <rect>
    <x>530</x>
    <y>200</y>
    <width>80</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <hcenter/>
   <vcenter/>
   <string>Run Remain.</string>
  </label>
  <line>
   <xstart>5</xstart>
   <ystart>229</ystart>
   <xend>745</xend>
   <yend>229</yend>
   <weight>2</weight>
  </line>
  <label>
   <rect>
    <x>112</x>
    <y>200</y>
    <width>100</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Item Number</string>
  </label>
 </rpthead>
 <pghead>
  <firstpage/>
  <height>12</height>
 </pghead>
 <pghead>
  <height>42</height>
  <label>
   <rect>
    <x>10</x>
    <y>15</y>
    <width>60</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Status</string>
  </label>
  <label>
   <rect>
    <x>610</x>
    <y>0</y>
    <width>80</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <hcenter/>
   <vcenter/>
   <string>Qty. Remain.</string>
  </label>
  <label>
   <rect>
    <x>530</x>
    <y>0</y>
    <width>80</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <hcenter/>
   <vcenter/>
   <string>Run Remain.</string>
  </label>
  <label>
   <rect>
    <x>275</x>
    <y>0</y>
    <width>50</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <hcenter/>
   <vcenter/>
   <string>Seq. #</string>
  </label>
  <label>
   <rect>
    <x>112</x>
    <y>0</y>
    <width>100</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Item Number</string>
  </label>
  <label>
   <rect>
    <x>690</x>
    <y>0</y>
    <width>55</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <hcenter/>
   <vcenter/>
   <string>UOM</string>
  </label>
  <label>
   <rect>
    <x>335</x>
    <y>15</y>
    <width>200</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Operation Description</string>
  </label>
  <label>
   <rect>
    <x>330</x>
    <y>0</y>
    <width>80</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <hcenter/>
   <vcenter/>
   <string>Std. Operation</string>
  </label>
  <label>
   <rect>
    <x>10</x>
    <y>0</y>
    <width>60</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>W/O #</string>
  </label>
  <label>
   <rect>
    <x>285</x>
    <y>15</y>
    <width>45</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Type</string>
  </label>
  <label>
   <rect>
    <x>112</x>
    <y>15</y>
    <width>100</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Item Description</string>
  </label>
  <label>
   <rect>
    <x>450</x>
    <y>0</y>
    <width>80</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <hcenter/>
   <vcenter/>
   <string>Setup Remain.</string>
  </label>
  <line>
   <xstart>5</xstart>
   <ystart>30</ystart>
   <xend>745</xend>
   <yend>30</yend>
   <weight>2</weight>
  </line>
 </pghead>
 <section>
  <name>detail</name>
  <detail>
   <key>
    <query>detail</query>
   </key>
   <height>57</height>
   <field>
    <rect>
     <x>112</x>
     <y>0</y>
     <width>150</width>
     <height>15</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>bold</weight>
    </font>
    <left/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>item_number</column>
    </data>
   </field>
   <field>
    <rect>
     <x>10</x>
     <y>15</y>
     <width>100</width>
     <height>15</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>bold</weight>
    </font>
    <left/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>bufrsts_status</column>
    </data>
   </field>
   <field>
    <rect>
     <x>330</x>
     <y>30</y>
     <width>200</width>
     <height>15</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>bold</weight>
    </font>
    <left/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>wooper_descrip2</column>
    </data>
   </field>
   <field>
    <rect>
     <x>450</x>
     <y>0</y>
     <width>80</width>
     <height>15</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>bold</weight>
    </font>
    <right/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>setupremain</column>
    </data>
   </field>
   <line>
    <xstart>5</xstart>
    <ystart>45</ystart>
    <xend>740</xend>
    <yend>45</yend>
    <weight>0</weight>
   </line>
   <field>
    <rect>
     <x>330</x>
     <y>0</y>
     <width>112</width>
     <height>15</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>bold</weight>
    </font>
    <left/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>stdoperation</column>
    </data>
   </field>
   <field>
    <rect>
     <x>530</x>
     <y>0</y>
     <width>80</width>
     <height>15</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>bold</weight>
    </font>
    <right/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>runremain</column>
    </data>
   </field>
   <field>
    <rect>
     <x>112</x>
     <y>30</y>
     <width>204</width>
     <height>15</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>bold</weight>
    </font>
    <left/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>item_descrip2</column>
    </data>
   </field>
   <field>
    <rect>
     <x>10</x>
     <y>0</y>
     <width>100</width>
     <height>15</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>bold</weight>
    </font>
    <left/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>wonumber</column>
    </data>
   </field>
   <field>
    <rect>
     <x>275</x>
     <y>0</y>
     <width>50</width>
     <height>15</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>bold</weight>
    </font>
    <hcenter/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>wooper_seqnumber</column>
    </data>
   </field>
   <field>
    <rect>
     <x>112</x>
     <y>15</y>
     <width>163</width>
     <height>15</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>bold</weight>
    </font>
    <left/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>item_descrip1</column>
    </data>
   </field>
   <field>
    <rect>
     <x>610</x>
     <y>0</y>
     <width>80</width>
     <height>15</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>bold</weight>
    </font>
    <right/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>qtyremain</column>
    </data>
   </field>
   <field>
    <rect>
     <x>330</x>
     <y>15</y>
     <width>200</width>
     <height>15</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>bold</weight>
    </font>
    <left/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>wooper_descrip1</column>
    </data>
   </field>
   <field>
    <rect>
     <x>280</x>
     <y>15</y>
     <width>50</width>
     <height>15</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>bold</weight>
    </font>
    <hcenter/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>bufrststype</column>
    </data>
   </field>
   <field>
    <rect>
     <x>690</x>
     <y>0</y>
     <width>55</width>
     <height>15</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>bold</weight>
    </font>
    <hcenter/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>iteminvuom</column>
    </data>
   </field>
  </detail>
 </section>
 <pgfoot>
  <height>22</height>
  <field>
   <rect>
    <x>95</x>
    <y>0</y>
    <width>100</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>bold</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>Context Query</query>
    <column>report_date</column>
   </data>
  </field>
  <field>
   <rect>
    <x>705</x>
    <y>0</y>
    <width>40</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>bold</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>Context Query</query>
    <column>page_number</column>
   </data>
  </field>
  <label>
   <rect>
    <x>5</x>
    <y>0</y>
    <width>85</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <right/>
   <vcenter/>
   <string>Report Date:</string>
  </label>
  <label>
   <rect>
    <x>615</x>
    <y>0</y>
    <width>85</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <right/>
   <vcenter/>
   <string>Page:</string>
  </label>
 </pgfoot>
</report>
