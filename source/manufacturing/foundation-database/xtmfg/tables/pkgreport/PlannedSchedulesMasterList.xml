<!DOCTYPE openRPTDef>
<report>
 <title>Planning Schedules</title>
 <name>PlannedSchedulesMasterList</name>
 <description>List of Planning Schedules and the items on them.</description>
 <size>Letter</size>
 <landscape/>
 <topmargin>50</topmargin>
 <bottommargin>50</bottommargin>
 <rightmargin>50</rightmargin>
 <leftmargin>50</leftmargin>
 <querysource>
  <name>detail</name>
  <sql>SELECT 
     pschhead_number,
     CASE WHEN (pschhead_type = 'N')    THEN text('3-Forecast Netted to MPS') 
          WHEN (pschhead_type = 'F')    THEN text('1-Forecast Reporting') 
          WHEN (pschhead_type = 'P')    THEN text('2-Cumulative MPS') 
     END as sched_type,
     pschhead_descrip,
     formatdate(pschhead_start_date) AS pschhead_start_date,
     formatdate(pschhead_end_date)   AS pschhead_end_date,
     pschhead_status ,
     formatdate(pschhead_created)    AS pschhead_created,
     pschhead_creator,

     text(pschitem_linenumber)       AS pschitem_linenumber,
     text(pschitem_scheddate)        AS  pschitem_scheddate,
     text(pschitem_qty)              AS  pschitem_qty,
     pschitem_status,
     text(formatdate(pschitem_created))   AS pschitem_created,
     pschitem_creator,

     item_number,
     item_descrip1,
     item_descrip2,

     warehous_code
 
FROM 
     item,
     itemsite,
     whsinfo,
     xtmfg.pschhead LEFT OUTER JOIN xtmfg.pschitem ON pschhead_id = pschitem_pschhead_id 
WHERE 
     pschitem_itemsite_id = itemsite_id
     AND itemsite_item_id = item_id
     AND itemsite_warehous_id = warehous_id
----------------------
UNION
----------------------
SELECT 
     pschhead_number,
     CASE WHEN (pschhead_type = 'N')    THEN text('3-Forecast Netted to MPS') 
          WHEN (pschhead_type = 'F')    THEN text('1-Forecast Reporting') 
          WHEN (pschhead_type = 'P')    THEN text('2-Cumulative MPS') 
     END as sched_type,
     pschhead_descrip,
     formatdate(pschhead_start_date)   AS  pschhead_start_date,
      formatdate(pschhead_end_date)    AS pschhead_end_date,
     pschhead_status ,
     formatdate(pschhead_created)     AS pschhead_created,
     pschhead_creator,

     text(' ')        AS      pschitem_linenumber,
     text(' ')        AS      line_date,
     text(' ')        AS      pschitem_qty,
     text(' ')        AS      pschitem_status,
     text(' ')        AS      pschitem_created,
     text(' ')        AS      pschitem_creator,

     text('No Items Assigned')        AS      item_number,
     text(' ')        AS      item_descrip1,
     text(' ')        AS      item_descrip2,

     warehous_code
 
FROM 
       whsinfo,
       xtmfg.pschhead LEFT OUTER JOIN xtmfg.pschitem ON pschhead_id = pschitem_pschhead_id 
WHERE 
       pschitem_pschhead_id IS NULL
       AND pschhead_warehous_id = warehous_id

ORDER BY warehous_code, sched_type, pschhead_status DESC, pschhead_number, item_number, pschitem_scheddate ;</sql>
 </querysource>
 <rpthead>
  <height>84</height>
  <label>
   <rect>
    <x>600</x>
    <y>5</y>
    <width>392</width>
    <height>38</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>18</size>
    <weight>bold</weight>
   </font>
   <right/>
   <vcenter/>
   <string>Planning Schedules Master List</string>
  </label>
 </rpthead>
 <section>
  <name>schedule</name>
  <group>
   <name>schedule</name>
   <column>pschhead_number</column>
   <head>
    <height>113</height>
    <field>
     <rect>
      <x>770</x>
      <y>40</y>
      <width>130</width>
      <height>18</height>
     </rect>
     <font>
      <face>Arial</face>
      <size>10</size>
      <weight>normal</weight>
     </font>
     <left/>
     <top/>
     <data>
      <query>detail</query>
      <column>pschhead_end_date</column>
     </data>
    </field>
    <label>
     <rect>
      <x>570</x>
      <y>90</y>
      <width>80</width>
      <height>16</height>
     </rect>
     <font>
      <face>Arial</face>
      <size>10</size>
      <weight>normal</weight>
     </font>
     <left/>
     <top/>
     <string>Created On</string>
    </label>
    <label>
     <rect>
      <x>665</x>
      <y>25</y>
      <width>85</width>
      <height>16</height>
     </rect>
     <font>
      <face>Arial</face>
      <size>10</size>
      <weight>normal</weight>
     </font>
     <left/>
     <top/>
     <string>Start Date:</string>
    </label>
    <field>
     <rect>
      <x>150</x>
      <y>55</y>
      <width>360</width>
      <height>16</height>
     </rect>
     <font>
      <face>Arial</face>
      <size>10</size>
      <weight>normal</weight>
     </font>
     <left/>
     <top/>
     <data>
      <query>detail</query>
      <column>pschhead_created</column>
     </data>
    </field>
    <label>
     <rect>
      <x>360</x>
      <y>10</y>
      <width>130</width>
      <height>16</height>
     </rect>
     <font>
      <face>Arial</face>
      <size>10</size>
      <weight>bold</weight>
     </font>
     <left/>
     <top/>
     <string>Schedule Type:</string>
    </label>
    <label>
     <rect>
      <x>860</x>
      <y>90</y>
      <width>50</width>
      <height>16</height>
     </rect>
     <font>
      <face>Arial</face>
      <size>10</size>
      <weight>normal</weight>
     </font>
     <left/>
     <top/>
     <string>Status</string>
    </label>
    <field>
     <rect>
      <x>490</x>
      <y>10</y>
      <width>150</width>
      <height>16</height>
     </rect>
     <font>
      <face>Arial</face>
      <size>10</size>
      <weight>bold</weight>
     </font>
     <left/>
     <top/>
     <data>
      <query>detail</query>
      <column>sched_type</column>
     </data>
    </field>
    <field>
     <rect>
      <x>770</x>
      <y>10</y>
      <width>130</width>
      <height>16</height>
     </rect>
     <font>
      <face>Arial</face>
      <size>10</size>
      <weight>bold</weight>
     </font>
     <left/>
     <top/>
     <data>
      <query>detail</query>
      <column>pschhead_status</column>
     </data>
    </field>
    <label>
     <rect>
      <x>760</x>
      <y>90</y>
      <width>100</width>
      <height>16</height>
     </rect>
     <font>
      <face>Arial</face>
      <size>10</size>
      <weight>normal</weight>
     </font>
     <left/>
     <top/>
     <string>Schedule Date</string>
    </label>
    <label>
     <rect>
      <x>665</x>
      <y>40</y>
      <width>85</width>
      <height>16</height>
     </rect>
     <font>
      <face>Arial</face>
      <size>10</size>
      <weight>normal</weight>
     </font>
     <left/>
     <top/>
     <string>End Date:</string>
    </label>
    <field>
     <rect>
      <x>150</x>
      <y>10</y>
      <width>204</width>
      <height>16</height>
     </rect>
     <font>
      <face>Arial</face>
      <size>10</size>
      <weight>bold</weight>
     </font>
     <left/>
     <top/>
     <data>
      <query>detail</query>
      <column>pschhead_number</column>
     </data>
    </field>
    <label>
     <rect>
      <x>665</x>
      <y>10</y>
      <width>75</width>
      <height>16</height>
     </rect>
     <font>
      <face>Arial</face>
      <size>10</size>
      <weight>bold</weight>
     </font>
     <left/>
     <top/>
     <string>Status:</string>
    </label>
    <field>
     <rect>
      <x>770</x>
      <y>25</y>
      <width>130</width>
      <height>16</height>
     </rect>
     <font>
      <face>Arial</face>
      <size>10</size>
      <weight>normal</weight>
     </font>
     <left/>
     <top/>
     <data>
      <query>detail</query>
      <column>pschhead_start_date</column>
     </data>
    </field>
    <line>
     <xstart>0</xstart>
     <ystart>110</ystart>
     <xend>993</xend>
     <yend>110</yend>
     <weight>0</weight>
    </line>
    <label>
     <rect>
      <x>150</x>
      <y>90</y>
      <width>85</width>
      <height>16</height>
     </rect>
     <font>
      <face>Arial</face>
      <size>10</size>
      <weight>normal</weight>
     </font>
     <left/>
     <top/>
     <string>Description</string>
    </label>
    <label>
     <rect>
      <x>665</x>
      <y>55</y>
      <width>85</width>
      <height>16</height>
     </rect>
     <font>
      <face>Arial</face>
      <size>10</size>
      <weight>normal</weight>
     </font>
     <left/>
     <top/>
     <string>Warehouse:</string>
    </label>
    <label>
     <rect>
      <x>5</x>
      <y>90</y>
      <width>35</width>
      <height>16</height>
     </rect>
     <font>
      <face>Arial</face>
      <size>10</size>
      <weight>normal</weight>
     </font>
     <left/>
     <top/>
     <string>Item</string>
    </label>
    <label>
     <rect>
      <x>5</x>
      <y>55</y>
      <width>170</width>
      <height>16</height>
     </rect>
     <font>
      <face>Arial</face>
      <size>10</size>
      <weight>normal</weight>
     </font>
     <left/>
     <top/>
     <string>Created On:</string>
    </label>
    <label>
     <rect>
      <x>5</x>
      <y>40</y>
      <width>170</width>
      <height>16</height>
     </rect>
     <font>
      <face>Arial</face>
      <size>10</size>
      <weight>normal</weight>
     </font>
     <left/>
     <top/>
     <string>Created By:</string>
    </label>
    <label>
     <rect>
      <x>935</x>
      <y>90</y>
      <width>55</width>
      <height>16</height>
     </rect>
     <font>
      <face>Arial</face>
      <size>10</size>
      <weight>normal</weight>
     </font>
     <right/>
     <top/>
     <string>Quantity</string>
    </label>
    <line>
     <xstart>0</xstart>
     <ystart>5</ystart>
     <xend>993</xend>
     <yend>5</yend>
     <weight>2</weight>
    </line>
    <label>
     <rect>
      <x>5</x>
      <y>25</y>
      <width>170</width>
      <height>16</height>
     </rect>
     <font>
      <face>Arial</face>
      <size>10</size>
      <weight>normal</weight>
     </font>
     <left/>
     <top/>
     <string>Description:</string>
    </label>
    <field>
     <rect>
      <x>770</x>
      <y>55</y>
      <width>130</width>
      <height>18</height>
     </rect>
     <font>
      <face>Arial</face>
      <size>10</size>
      <weight>normal</weight>
     </font>
     <left/>
     <top/>
     <data>
      <query>detail</query>
      <column>warehous_code</column>
     </data>
    </field>
    <field>
     <rect>
      <x>150</x>
      <y>25</y>
      <width>360</width>
      <height>16</height>
     </rect>
     <font>
      <face>Arial</face>
      <size>10</size>
      <weight>normal</weight>
     </font>
     <left/>
     <top/>
     <data>
      <query>detail</query>
      <column>pschhead_descrip</column>
     </data>
    </field>
    <label>
     <rect>
      <x>5</x>
      <y>10</y>
      <width>170</width>
      <height>16</height>
     </rect>
     <font>
      <face>Arial</face>
      <size>10</size>
      <weight>bold</weight>
     </font>
     <left/>
     <top/>
     <string>Schedule Number:</string>
    </label>
    <label>
     <rect>
      <x>660</x>
      <y>90</y>
      <width>70</width>
      <height>16</height>
     </rect>
     <font>
      <face>Arial</face>
      <size>10</size>
      <weight>normal</weight>
     </font>
     <left/>
     <top/>
     <string>Created By</string>
    </label>
    <field>
     <rect>
      <x>150</x>
      <y>40</y>
      <width>360</width>
      <height>16</height>
     </rect>
     <font>
      <face>Arial</face>
      <size>10</size>
      <weight>normal</weight>
     </font>
     <left/>
     <top/>
     <data>
      <query>detail</query>
      <column>pschhead_creator</column>
     </data>
    </field>
   </head>
   <foot>
    <height>49</height>
    <line>
     <xstart>0</xstart>
     <ystart>10</ystart>
     <xend>993</xend>
     <yend>10</yend>
     <weight>2</weight>
    </line>
   </foot>
  </group>
  <detail>
   <key>
    <query>detail</query>
   </key>
   <height>23</height>
   <field>
    <rect>
     <x>765</x>
     <y>0</y>
     <width>90</width>
     <height>16</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>10</size>
     <weight>normal</weight>
    </font>
    <left/>
    <top/>
    <data>
     <query>detail</query>
     <column>pschitem_scheddate</column>
    </data>
   </field>
   <field>
    <rect>
     <x>893</x>
     <y>0</y>
     <width>95</width>
     <height>16</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>10</size>
     <weight>normal</weight>
    </font>
    <right/>
    <top/>
    <data>
     <query>detail</query>
     <column>pschitem_qty</column>
    </data>
   </field>
   <field>
    <rect>
     <x>665</x>
     <y>0</y>
     <width>70</width>
     <height>16</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>10</size>
     <weight>normal</weight>
    </font>
    <left/>
    <top/>
    <data>
     <query>detail</query>
     <column>pschitem_creator</column>
    </data>
   </field>
   <field>
    <rect>
     <x>570</x>
     <y>0</y>
     <width>85</width>
     <height>16</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>10</size>
     <weight>normal</weight>
    </font>
    <left/>
    <top/>
    <data>
     <query>detail</query>
     <column>pschitem_created</column>
    </data>
   </field>
   <field>
    <rect>
     <x>150</x>
     <y>0</y>
     <width>220</width>
     <height>16</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>10</size>
     <weight>normal</weight>
    </font>
    <left/>
    <top/>
    <data>
     <query>detail</query>
     <column>item_descrip1</column>
    </data>
   </field>
   <field>
    <rect>
     <x>375</x>
     <y>0</y>
     <width>190</width>
     <height>16</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>10</size>
     <weight>normal</weight>
    </font>
    <left/>
    <top/>
    <data>
     <query>detail</query>
     <column>item_descrip2</column>
    </data>
   </field>
   <field>
    <rect>
     <x>5</x>
     <y>0</y>
     <width>140</width>
     <height>16</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>10</size>
     <weight>normal</weight>
    </font>
    <left/>
    <top/>
    <data>
     <query>detail</query>
     <column>item_number</column>
    </data>
   </field>
   <field>
    <rect>
     <x>864</x>
     <y>0</y>
     <width>30</width>
     <height>16</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>10</size>
     <weight>normal</weight>
    </font>
    <left/>
    <top/>
    <data>
     <query>detail</query>
     <column>pschitem_status</column>
    </data>
   </field>
  </detail>
 </section>
 <pgfoot>
  <height>73</height>
  <label>
   <rect>
    <x>885</x>
    <y>5</y>
    <width>45</width>
    <height>16</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <right/>
   <top/>
   <string>Page:</string>
  </label>
  <field>
   <rect>
    <x>935</x>
    <y>5</y>
    <width>60</width>
    <height>16</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <right/>
   <top/>
   <data>
    <query>Context Query</query>
    <column>page_number</column>
   </data>
  </field>
  <field>
   <rect>
    <x>110</x>
    <y>5</y>
    <width>180</width>
    <height>16</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <left/>
   <top/>
   <data>
    <query>Context Query</query>
    <column>report_date</column>
   </data>
  </field>
  <label>
   <rect>
    <x>5</x>
    <y>5</y>
    <width>80</width>
    <height>16</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <left/>
   <top/>
   <string>Report Date:</string>
  </label>
 </pgfoot>
</report>
