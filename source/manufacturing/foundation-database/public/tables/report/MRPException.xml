<!DOCTYPE openRPTDef>
<report>
 <title>MRPException</title>
 <name>MRPException</name>
 <description>MRP exception report shows:
  A) Supply Orders needing to be expedited to satisfy allocated demand.
  B) Supply orders that should be canceled due to lack of demand.</description>
 <grid>
  <snap/>
  <show/>
  <x>0.05</x>
  <y>0.05</y>
 </grid>
 <size>Letter</size>
 <portrait/>
 <topmargin>50</topmargin>
 <bottommargin>50</bottommargin>
 <rightmargin>50</rightmargin>
 <leftmargin>50</leftmargin>
 <querysource>
  <name>head</name>
  <sql>SELECT
&lt;? if exists("warehous_id") ?>
       (SELECT warehous_descrip
        FROM whsinfo
        WHERE (warehous_id=&lt;? value("warehous_id") ?>))
&lt;? else ?>
       text('All Warehouses')
&lt;? endif ?> AS site,
&lt;? if exists("byPlannerCode") ?>
       text('Planner Code: ')
&lt;? else ?>
       text('Item: ')
&lt;? endif ?> AS filterBy,
&lt;? if exists("byPlannerCode") ?>
  &lt;? if exists("plancode_id") ?>
       (SELECT (plancode_code || '-' || plancode_name)
        FROM plancode
        WHERE (plancode_id=&lt;? value("plancode_id") ?>))
  &lt;? elseif exists("plancode_pattern") ?>
       text(&lt;? value("plancode_pattern") ?>)
  &lt;? else ?>
       text('All Planner Codes')
  &lt;? endif ?>
&lt;? else ?>
       (SELECT item_number
        FROM item
        WHERE item_id=&lt;? value("item_id") ?>)
&lt;? endif ?> AS filter_value,
&lt;? if exists("minDays") ?>
       &lt;? value("minDays") ?>
&lt;? else ?>
       'N/A'
&lt;? endif ?> AS min_days,
&lt;? if exists("minUnAlloc") ?>
       &lt;? value("minUnAlloc") ?>
&lt;? else ?>
       'N/A'
&lt;? endif ?> AS min_allocated</sql>
 </querysource>
 <querysource loadFromDb="true">
  <name>detail</name>
  <mqlgroup>MRPExceptions</mqlgroup>
  <mqlname>detail</mqlname>
 </querysource>
 <rpthead>
  <height>179</height>
  <label>
   <rect>
    <x>270</x>
    <y>5</y>
    <width>375</width>
    <height>40</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>18</size>
    <weight>bold</weight>
   </font>
   <right/>
   <vcenter/>
   <string>MRP Exceptions</string>
  </label>
  <label>
   <rect>
    <x>5</x>
    <y>135</y>
    <width>30</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Site</string>
  </label>
  <label>
   <rect>
    <x>238</x>
    <y>135</y>
    <width>75</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Demand Qty</string>
  </label>
  <field>
   <rect>
    <x>565</x>
    <y>78</y>
    <width>100</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>bold</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>head</query>
    <column>min_days</column>
   </data>
  </field>
  <label>
   <rect>
    <x>505</x>
    <y>61</y>
    <width>50</width>
    <height>18</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <right/>
   <vcenter/>
   <string>Site: </string>
  </label>
  <line>
   <xstart>1</xstart>
   <ystart>173</ystart>
   <xend>746</xend>
   <yend>173</yend>
   <weight>2</weight>
  </line>
  <field>
   <rect>
    <x>565</x>
    <y>60</y>
    <width>178</width>
    <height>18</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>bold</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>head</query>
    <column>site</column>
   </data>
  </field>
  <label>
   <rect>
    <x>315</x>
    <y>135</y>
    <width>85</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Demand date</string>
  </label>
  <label>
   <rect>
    <x>89</x>
    <y>135</y>
    <width>60</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Inv. UOM</string>
  </label>
  <label>
   <rect>
    <x>402</x>
    <y>135</y>
    <width>85</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Supply Order</string>
  </label>
  <label>
   <rect>
    <x>151</x>
    <y>135</y>
    <width>85</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Demand Order</string>
  </label>
  <label>
   <rect>
    <x>489</x>
    <y>135</y>
    <width>75</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Supply Qty</string>
  </label>
  <label>
   <rect>
    <x>566</x>
    <y>135</y>
    <width>75</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Supply Date</string>
  </label>
  <label>
   <rect>
    <x>660</x>
    <y>134</y>
    <width>85</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Exception</string>
  </label>
  <label>
   <rect>
    <x>37</x>
    <y>135</y>
    <width>50</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Item #</string>
  </label>
  <label>
   <rect>
    <x>37</x>
    <y>155</y>
    <width>85</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Description</string>
  </label>
  <field>
   <rect>
    <x>40</x>
    <y>60</y>
    <width>100</width>
    <height>25</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>bold</weight>
   </font>
   <hcenter/>
   <vcenter/>
   <data>
    <query>head</query>
    <column>filterBy</column>
   </data>
  </field>
  <field>
   <rect>
    <x>145</x>
    <y>60</y>
    <width>125</width>
    <height>25</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>bold</weight>
   </font>
   <hcenter/>
   <vcenter/>
   <data>
    <query>head</query>
    <column>filter_value</column>
   </data>
  </field>
  <field>
   <rect>
    <x>565</x>
    <y>98</y>
    <width>100</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>bold</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>head</query>
    <column>min_allocated</column>
   </data>
  </field>
  <label>
   <rect>
    <x>435</x>
    <y>78</y>
    <width>120</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <right/>
   <vcenter/>
   <string>Minimum Days: </string>
  </label>
  <label>
   <rect>
    <x>385</x>
    <y>98</y>
    <width>169</width>
    <height>20</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>10</size>
    <weight>normal</weight>
   </font>
   <right/>
   <vcenter/>
   <string>Minimum Unallocated: </string>
  </label>
  <label>
   <rect>
    <x>660</x>
    <y>154</y>
    <width>85</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Message</string>
  </label>
  <label>
   <rect>
    <x>565</x>
    <y>154</y>
    <width>75</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Suggested Date</string>
  </label>
  <label>
   <rect>
    <x>485</x>
    <y>154</y>
    <width>75</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Suggested Qty</string>
  </label>
 </rpthead>
 <pghead>
  <firstpage/>
  <height>6</height>
 </pghead>
 <pghead>
  <height>55</height>
  <label>
   <rect>
    <x>37</x>
    <y>5</y>
    <width>50</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Item #</string>
  </label>
  <label>
   <rect>
    <x>5</x>
    <y>5</y>
    <width>30</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Site</string>
  </label>
  <label>
   <rect>
    <x>89</x>
    <y>5</y>
    <width>60</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Inv. UOM</string>
  </label>
  <line>
   <xstart>5</xstart>
   <ystart>50</ystart>
   <xend>745</xend>
   <yend>50</yend>
   <weight>2</weight>
  </line>
  <label>
   <rect>
    <x>151</x>
    <y>5</y>
    <width>85</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Demand Order</string>
  </label>
  <label>
   <rect>
    <x>315</x>
    <y>5</y>
    <width>85</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Demand date</string>
  </label>
  <label>
   <rect>
    <x>238</x>
    <y>5</y>
    <width>75</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Demand Qty</string>
  </label>
  <label>
   <rect>
    <x>37</x>
    <y>25</y>
    <width>85</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Description</string>
  </label>
  <label>
   <rect>
    <x>402</x>
    <y>5</y>
    <width>85</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Supply Order</string>
  </label>
  <label>
   <rect>
    <x>489</x>
    <y>5</y>
    <width>75</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Supply Qty</string>
  </label>
  <label>
   <rect>
    <x>566</x>
    <y>5</y>
    <width>75</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Supply Date</string>
  </label>
  <label>
   <rect>
    <x>643</x>
    <y>5</y>
    <width>85</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Exception</string>
  </label>
  <label>
   <rect>
    <x>643</x>
    <y>25</y>
    <width>85</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Message</string>
  </label>
  <label>
   <rect>
    <x>485</x>
    <y>24</y>
    <width>75</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Suggested Qty</string>
  </label>
  <label>
   <rect>
    <x>560</x>
    <y>24</y>
    <width>75</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <left/>
   <vcenter/>
   <string>Suggested Date</string>
  </label>
 </pghead>
 <section>
  <name>detail</name>
  <detail>
   <key>
    <query>detail</query>
   </key>
   <height>74</height>
   <field>
    <rect>
     <x>37</x>
     <y>2</y>
     <width>50</width>
     <height>15</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>bold</weight>
    </font>
    <left/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>itemno</column>
    </data>
   </field>
   <field>
    <rect>
     <x>89</x>
     <y>2</y>
     <width>60</width>
     <height>15</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>bold</weight>
    </font>
    <hcenter/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>uom</column>
    </data>
   </field>
   <field>
    <rect>
     <x>402</x>
     <y>2</y>
     <width>85</width>
     <height>15</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>bold</weight>
    </font>
    <left/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>mrpexcp_supply_type</column>
    </data>
   </field>
   <field>
    <rect>
     <x>238</x>
     <y>2</y>
     <width>75</width>
     <height>15</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>bold</weight>
    </font>
    <right/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>mrpexcp_demand_qty</column>
    </data>
    <format builtin="true">qty</format>
   </field>
   <field>
    <rect>
     <x>5</x>
     <y>2</y>
     <width>30</width>
     <height>15</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>bold</weight>
    </font>
    <left/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>site</column>
    </data>
   </field>
   <field>
    <rect>
     <x>151</x>
     <y>2</y>
     <width>85</width>
     <height>30</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>bold</weight>
    </font>
    <wordwrap/>
    <left/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>mrpexcp_demand_type</column>
    </data>
   </field>
   <field>
    <rect>
     <x>489</x>
     <y>2</y>
     <width>75</width>
     <height>15</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>bold</weight>
    </font>
    <hcenter/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>mrpexcp_supply_qty</column>
    </data>
    <format builtin="true">qty</format>
   </field>
   <field>
    <rect>
     <x>315</x>
     <y>2</y>
     <width>85</width>
     <height>15</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>bold</weight>
    </font>
    <hcenter/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>f_mrpexcp_demand_date</column>
    </data>
   </field>
   <field>
    <rect>
     <x>37</x>
     <y>22</y>
     <width>100</width>
     <height>40</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>bold</weight>
    </font>
    <wordwrap/>
    <left/>
    <top/>
    <data>
     <query>detail</query>
     <column>descrip</column>
    </data>
   </field>
   <field>
    <rect>
     <x>643</x>
     <y>2</y>
     <width>100</width>
     <height>40</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>bold</weight>
    </font>
    <wordwrap/>
    <left/>
    <top/>
    <data>
     <query>detail</query>
     <column>excp_msg</column>
    </data>
   </field>
   <field>
    <rect>
     <x>566</x>
     <y>2</y>
     <width>75</width>
     <height>15</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>bold</weight>
    </font>
    <hcenter/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>f_mrpexcp_supply_date</column>
    </data>
   </field>
   <field>
    <rect>
     <x>490</x>
     <y>20</y>
     <width>75</width>
     <height>15</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>bold</weight>
    </font>
    <hcenter/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>mrpexcp_supply_suggqty</column>
    </data>
    <format builtin="true">qty</format>
   </field>
   <field>
    <rect>
     <x>565</x>
     <y>20</y>
     <width>75</width>
     <height>15</height>
    </rect>
    <font>
     <face>Arial</face>
     <size>8</size>
     <weight>bold</weight>
    </font>
    <hcenter/>
    <vcenter/>
    <data>
     <query>detail</query>
     <column>f_mrpexcp_supply_suggdate</column>
    </data>
   </field>
  </detail>
 </section>
 <pgfoot>
  <height>18</height>
  <label>
   <rect>
    <x>599</x>
    <y>0</y>
    <width>100</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <right/>
   <vcenter/>
   <string>Page:</string>
  </label>
  <field>
   <rect>
    <x>702</x>
    <y>0</y>
    <width>40</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>bold</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>Context Query</query>
    <column>page_number</column>
   </data>
  </field>
  <label>
   <rect>
    <x>0</x>
    <y>0</y>
    <width>100</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>normal</weight>
   </font>
   <right/>
   <vcenter/>
   <string>Report Date:</string>
  </label>
  <field>
   <rect>
    <x>103</x>
    <y>0</y>
    <width>100</width>
    <height>15</height>
   </rect>
   <font>
    <face>Arial</face>
    <size>8</size>
    <weight>bold</weight>
   </font>
   <left/>
   <vcenter/>
   <data>
    <query>Context Query</query>
    <column>report_date</column>
   </data>
  </field>
 </pgfoot>
 <rptfoot>
  <height>100</height>
 </rptfoot>
</report>
